<!doctype html>
<html>
  <head>
    <title>Layer Definitions Example</title>
    <link rel="stylesheet" href="css/test_app.css" />
    <link rel="stylesheet" href="css/leaflet.css" />
  </head>
  <body>
    <div id="container">
      <div id="main">
        <div id="map"></div>
      </div>
    </div>
    <script src="../lib/leaflet.js"></script>
    <script src="../src/AGS.js"></script>
    <script src="../src/AGS.Security.js"></script>
    <script src="../src/AGS.Layer.js"></script>
    <script src="../src/AGS.Layer.Tiled.js"></script>
    <script src="../src/AGS.Layer.Tiled.Dynamic.js"></script>
    <script src="http://maps.stamen.com/js/tile.stamen.js"></script>
    <script type="text/javascript">
      window.onload = function() {
        window.map = new L.Map('map');

        var lr = new L.LatLng(34.746481, -92.289595);
        map.setView(lr, 13);

        var baseUrl = 'http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer';
        var baseLayer = new L.AGS.Layer.Tiled(baseUrl);
        map.addLayer(baseLayer);

        //var layerDefs = [];
        //layerDefs[2] = "1=1";

        //var layerDefs = {};
        //layerDefs['0'] = "STATUS='A'";

        function showDyn() {
          //var dynUrl = 'http://data.sanborn.com/ArcGIS/rest/services/LittleRock/DemoDataStack/MapServer';
          //var dynLayer = new L.AGS.Layer.Tiled.Dynamic(dynUrl, {
          //  layers: [13],
          //  layerDefs: {
          //    '14': 'OBJECTID_1 > 15'
          //  }
          //});

          var dynUrl = 'http://data.sanborn.com/ArcGIS/rest/services/'

          map.addLayer(dynLayer);
        }

        showDyn();
      }
    </script>
  </body>
</html>